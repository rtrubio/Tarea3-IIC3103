{"ast":null,"code":"var _jsxFileName = \"/Users/rodrigorubio/Desktop/Tarea3/my-app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport io from 'socket.io-client';\n/* import { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'; */\n\nimport MapView from './components/MapView';\nimport { useState, useEffect } from 'react';\n/* import socket from './components/Socket'; */\n//const io = require('socket.io-client')\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\n  path: \"/flights\"\n});\n\nfunction App() {\n  _s();\n\n  // aca van los useState\n  const [positions, setPositions] = useState([]);\n  const [message, setMessage] = useState([]);\n  const [messages, setMessages] = useState();\n  const [flights, setFlights] = useState();\n  const pos_actual = positions; // aca van los useEffect\n\n  socket.on('POSITION', function (data) {\n    console.log(data);\n  });\n  socket.on('FLIGHTS', function (data) {\n    console.log(\"Imprimiendo info de flights\");\n    console.log(data);\n    console.log(\"Fin info de flights\");\n  }); //socket.on('CHAT');\n\n  useEffect(() => {\n    console.log('emitiendo un vuelo');\n    socket.emit('FLIGHTS');\n    console.log('vuelo emitido');\n  }, []);\n  useEffect(() => {\n    socket.on('POSITION', vuelo => {\n      console.log('nuevas posiciones de vuelos');\n      pos_actual[vuelo.code] = vuelo.position;\n      setPositions(pos_actual);\n      console.log(positions);\n    });\n    socket.on('FLIGHTS', function (data) {\n      console.log('imprimiento info del vuelo');\n      console.log(data);\n      console.log('fin info del vuelo');\n    });\n  }, []); // aca van las funciones\n  //socket.emit('CHAT');\n  //socket.emit('FLIGHTS');\n  //const handleNewMessage = () => {\n  //  console.log('emitiendo mensaje al chat');\n  //  socket.emit('CHAT');\n  //}\n\n  return /*#__PURE__*/_jsxDEV(MapView, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"xnGBqBQWP0D8rlrjgKXi0KQNOMM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/rodrigorubio/Desktop/Tarea3/my-app/src/App.js"],"names":["io","MapView","useState","useEffect","socket","path","App","positions","setPositions","message","setMessage","messages","setMessages","flights","setFlights","pos_actual","on","data","console","log","emit","vuelo","code","position"],"mappings":";;;AAAA,OAAO,WAAP;AACA,OAAOA,EAAP,MAAe,kBAAf;AACA;;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA;AAEA;;;AACA,MAAMC,MAAM,GAAGJ,EAAE,CAAC,uDAAD,EAA0D;AACvEK,EAAAA,IAAI,EAAE;AADiE,CAA1D,CAAjB;;AAIA,SAASC,GAAT,GAAe;AAAA;;AAEb;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,EAAxC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,EAAtC;AACA,QAAMa,UAAU,GAAGR,SAAnB,CAPa,CAUb;;AACAH,EAAAA,MAAM,CAACY,EAAP,CAAU,UAAV,EAAsB,UAASC,IAAT,EAAc;AAClCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,GAFD;AAIAb,EAAAA,MAAM,CAACY,EAAP,CAAU,SAAV,EAAqB,UAASC,IAAT,EAAc;AACjCC,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,GAJD,EAfa,CAqBb;;AACAhB,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAf,IAAAA,MAAM,CAACgB,IAAP,CAAY,SAAZ;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD,GAJQ,EAIN,EAJM,CAAT;AAMAhB,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,MAAM,CAACY,EAAP,CAAU,UAAV,EAAsBK,KAAK,IAAI;AAC7BH,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAJ,MAAAA,UAAU,CAACM,KAAK,CAACC,IAAP,CAAV,GAAyBD,KAAK,CAACE,QAA/B;AACAf,MAAAA,YAAY,CAACO,UAAD,CAAZ;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYZ,SAAZ;AACD,KALD;AAOAH,IAAAA,MAAM,CAACY,EAAP,CAAU,SAAV,EAAqB,UAASC,IAAT,EAAc;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD,KAJD;AAKD,GAbQ,EAaN,EAbM,CAAT,CA5Ba,CA4Cb;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,sBACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,UADF;AAID;;GAzDQb,G;;KAAAA,G;AA2DT,eAAeA,GAAf","sourcesContent":["import './App.css';\nimport io from 'socket.io-client';\n/* import { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'; */\nimport MapView from './components/MapView';\nimport { useState, useEffect } from 'react';\n/* import socket from './components/Socket'; */\n\n//const io = require('socket.io-client')\nconst socket = io('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\n    path: \"/flights\"\n});\n\nfunction App() {\n\n  // aca van los useState\n  const [positions, setPositions] = useState([])\n  const [message, setMessage] = useState([])\n  const [messages, setMessages] = useState()\n  const [flights, setFlights] = useState()\n  const pos_actual = positions;\n\n\n  // aca van los useEffect\n  socket.on('POSITION', function(data){\n    console.log(data);\n  });\n\n  socket.on('FLIGHTS', function(data){\n    console.log(\"Imprimiendo info de flights\");\n    console.log(data);\n    console.log(\"Fin info de flights\");\n  });\n\n  //socket.on('CHAT');\n  useEffect(() => {\n    console.log('emitiendo un vuelo');\n    socket.emit('FLIGHTS');\n    console.log('vuelo emitido');\n  }, [] );\n\n  useEffect(() => {\n    socket.on('POSITION', vuelo => {\n      console.log('nuevas posiciones de vuelos')\n      pos_actual[vuelo.code] = vuelo.position\n      setPositions(pos_actual)\n      console.log(positions)\n    });\n\n    socket.on('FLIGHTS', function(data){\n      console.log('imprimiento info del vuelo');\n      console.log(data);\n      console.log('fin info del vuelo');\n    })\n  }, [] );\n\n\n  // aca van las funciones\n  //socket.emit('CHAT');\n  //socket.emit('FLIGHTS');\n\n  //const handleNewMessage = () => {\n  //  console.log('emitiendo mensaje al chat');\n  //  socket.emit('CHAT');\n  //}\n\n  return(\n    <MapView/>\n  );\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}